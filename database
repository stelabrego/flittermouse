// Goto website https://dbdiagram.io/d
Enum relationship_status {
  follow
  mute
  hide
  block
}

Enum visibility {
  public
  followers
  followed
  private
}
 
Table user {
  id int [primary key]
  display_name varchar [not null, unique]
  first_name varchar
  last_name varchar 
  email varchar [unique]
  username varchar [not null, unique]
  password varchar [not null]
  phone_number varchar [note: "maybe unique"]
  address varchar
  created_at datetime [not null]
}

Table user_privacy {
  id int [primary key]
  user_id int [ref: - user.id]
  subscribed_events_visiblity visibility [not null]
  address_visibility visibility
  name_visibility visibility
  email_visibility visibility
  phone_number_visibility visibility
  confirm_followers boolean [not null]
}

Table user_relationship {
  id int [primary key]
  initating_user int [ref: > user.id]  
  affected_user int [ref: > user.id]
  relationship_type relationship_status
  pending boolean [not null]
}

Table event {
  id int [primary key]
  user_id int [ref: > user.id]
  created_at datetime [not null]
  date_of datetime [not null]
  address varchar [not null]
}

Table event_privacy {
  id int [primary key]
  event_id int [ref: - event.id]
  display_address datetime
  display_date datetime
  visible visibility [not null]
}

Table attendance {
  id int [primary key]
  event_id int [ref: > event.id]
  user_id int [ref: > user.id]
}